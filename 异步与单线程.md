### **单线程与异步**

------

#### 单线程

##### **js 单线程概念：**

 js 在同一时间只能做一件事

##### **原因**：

避免 DOM 渲染冲突，因为 js 可以修改 DOM，如果同时执行两段 js ，就可能导致 DOM 渲染出错。

##### **解决方案：**

异步

#### 异步

##### **异步存在的问题：**

1. 代码执行顺序和书写顺序不一致，容易导致错误
2. callback 中不容易实现模块化，容易陷入回调地狱，即一层回调嵌一层回调

**任务队列**：

包含同步队列(运行栈)和异步队列

##### **事件轮询 event loop**：

1. 览器从上到下执行语句，遇到 setTimeout 和 setInterval 等异步语句，就先挂起暂时不执行，然后接着执行下面的同步语句。
2. 当setTimeout设定的时间到了之后，浏览器将异步语句放到异步队列中去。
3. 当同步队列(运行栈)中的任务执行完了之后，浏览器将异步队列中的任务放到同步队列中开始执行，执行完了又去异步队列中找。如此循环，就是js的事件循环机制。

##### **异步类任务：**

1. setTimeout  setInterval
2. DOM 事件，比如 addEventListener
3. ES6中的Promise
